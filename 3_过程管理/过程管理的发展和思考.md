# 过程管理
## 1. 用于在位监控和缺陷检测的计算机视觉
- 在打印过程中，物理世界的不确定性（如材料批次差异、环境温湿度变化、机械振动等）可能导致实际打印结果偏离 G 代码的预设指令，从而产生缺陷。为了实时捕捉这些偏差，计算机视觉技术，特别是基于卷积神经网络（CNN）的图像识别模型，被广泛应用于在位监控（In-situ Monitoring）。   
- 该系统通常由一个或多个摄像头组成，实时拍摄打印过程，特别是喷嘴周围的材料沉积区域。AI 模型在大量标注了成功与失败打印案例的图像数据集上进行训练，学会识别各种常见的打印缺陷，例如模型翘曲、层移、拉丝、材料挤出不均或完全失效等。一旦在实时视频流中检测到与正常打印模式不符的异常，系统便会立即作出反应。   
- 早期的系统主要实现开环控制（Open-loop Control），即检测到缺陷后，通过移动应用通知、电子邮件或其他方式向用户发出警报，或者直接暂停打印，以防止材料和时间的进一步浪费。这种模式虽然不能自动修复问题，但极大地提高了打印的成功率，并实现了无人值守打印。市场上著名的开源项目 Obico（前身为 The Spaghetti Detective）就是这一技术的典型商业应用，它利用云端 AI 分析用户的打印机摄像头视频流，以高精度检测打印失败。
## 2. 迈向闭环控制：实时校正
- 从简单的缺陷检测到主动的实时校正，是 AI 在打印过程监控中迈出的关键一步，标志着系统从开环向闭环控制（Closed-loop Control）的演进。闭环控制系统不仅能识别问题，还能在打印过程中动态调整参数以试图纠正错误。   
- 例如，一个先进的机器学习系统可以利用计算机视觉持续观察材料的沉积情况，通过图像分析实时计算挤出线条的实际宽度或厚度。如果检测到挤出过量或不足，AI 控制器可以立即向打印机发送指令，微调挤出速率（Flow Rate）或移动速度，从而使后续的打印恢复正常。这种实时反馈和调整机制，模拟了经验丰富的人类操作员通过观察和微调来保证打印质量的过程，但其响应速度和精度远超人类。   
- 实现有效的闭环控制面临着巨大的技术挑战。首先，它要求极高的计算能力和极低的延迟，因为模型必须在毫秒级的时间内完成图像采集、缺陷识别、决策制定和指令发送，才能跟上打印机的运动速度。其次，构建能够准确理解缺陷成因并制定正确纠正策略的 AI 模型，需要更复杂的算法和更丰富的训练数据。尽管存在挑战，闭环控制代表了实现全自主增材制造的必经之路，它旨在将打印机从一个被动执行指令的设备，转变为一个能够感知、思考和适应的智能系统。   
## 3. 思考
- 考虑实时性，打印过程的过程管理的计算应该发生在设备端，感觉现有的算力应该不够，需要升级或新加计算硬件。
- 图像数据应包含环视视角和打印机喷嘴视角，最好能有数据回流功能，收集 bad case 对提升切片算法很有帮助。
- 对于打印过程的管理，感觉想象空间不大，因为如果把更多的智能放到切片和打印仿真中，过程管理在某种程度上会比较轻量。