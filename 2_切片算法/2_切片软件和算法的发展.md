# 切片软件和切片算法的发展
## 1. 切片软件发展历史和关系
| 起始年份     | 软件名称       | 关键创新/里程碑                                        | 许可证模型    | 起源               |
| :----------- | :------------- | :----------------------------------------------------- | :------------ | :----------------- |
| 2000年代末   | Skeinforge     | 首个广泛使用的爱好者级切片软件，提供极高控制度         | GNU AGPL      | 从零开始           |
| 2011         | Slic3r         | C++核心，速度提升百倍；引入Brim、微层技术等多项创新     | GNU AGPLv3    | 从零开始           |
| 2011         | Cura           | 用户友好的界面；后被Ultimaker收购并持续开发            | LGPLv3        | 从零开始           |
| 2013         | Simplify3D     | 强大的“进程”功能和手动支撑自定义；商业软件领导者         | 商业闭源      | 从零开始           |
| 2016         | PrusaSlicer    | 始于Slic3r PE；为Prusa硬件生态深度优化，快速迭代        | GNU AGPLv3    | Slic3r 的分叉      |
| 2017         | Cura 3.0       | 引入插件系统，构建开放生态                             | LGPLv3        | N/A               |
| 2022         | Cura 5.0       | 引入Arachne引擎，实现可变线宽打印                      | LGPLv3        | N/A               |
| 2022         |**Bambu Studio**   | 深度集成Bambu Lab硬件(AMS)；引入基于项目的工作流        | GNU AGPLv3    | PrusaSlicer 的分叉 |
| 2023         | OrcaSlicer     | 社区驱动，为更多打印机提供Bambu Studio的高级功能        | GNU AGPLv3    | Bambu Studio 的分叉 |
## 2. 自适应层高的兴起
传统的切片方法采用固定的层高来构建整个模型，但这在效率和质量之间造成了不必要的妥协。
- **问题所在**: 对整个模型使用统一的微小层高来追求细节是一种低效的做法。模型的垂直部分并不需要高分辨率，而这样做会徒增打印时间。反之，若使用较大的层高，**模型的曲面或缓坡部分则会产生明显的“阶梯效应”，严重影响表面质量。**
- **解决方案**: 自适应层高（Adaptive Layer Height）算法应运而生。它会智能地分析模型的几何形状，特别是其外表面的斜率。在接近水平的缓坡和曲率较大的区域，算法会自动采用更薄的层高以确保光滑的表面效果；而在陡峭的垂直区域，则采用更厚的层高以大幅缩短打印时间。
- **实现与应用**: 这一功能最早于 2017 年出现在 Cura 中 ，如今已成为包括 PrusaSlicer 和 Bambu Studio 在内的主流切片软件的标配。软件通常提供参数来控制层高变化的范围以及不同层高之间的过渡平滑度，以获得最佳效果。
- **技术意义**: 自适应层高是切片软件迈向“智能化”的第一个重要里程碑。它标志着切片策略从“一刀切”的统一设置，转向了基于模型上下文进行优化的新范式，巧妙地平衡了速度与质量这对核心矛盾。
## 3. 支撑的艺术：从简单支柱到有机树形
支撑结构是 FDM 打印技术中不可或缺的一部分，其生成算法的演进极大地影响了打印的效率和最终效果。
- **早期的支撑**: 最初的支撑生成算法非常简单：识别出模型的悬垂面，然后从这些面的正下方垂直向上生长网格或柱状结构，直至接触到悬垂面。这种方法虽然有效，但极其浪费材料、耗费打印时间，且移除困难，常常在模型表面留下难以修复的疤痕。   
- **算法的优化**: 随着技术发展，研究人员开始探索更优化的支撑生成算法，重点关注在保证机械稳定性的前提下减少材料消耗。例如，采用泊松盘采样（Poisson disk sampling）等方法来生成更稀疏但分布合理的支撑杆，或从力学角度分析模型，只在关键受力点生成支撑。   
- **革命性突破**：树状/有机支撑：下图分别为普通支撑和树状支撑
![普通支撑.jpg](https://s2.loli.net/2025/09/29/PVgkHiNCoelE6BD.jpg)
![树状支撑.jpg](https://s2.loli.net/2025/09/29/Z4aKHqUkBwPcG2m.jpg)
  - 工作原理: 受到自然界树木结构的启发，树状支撑（Tree Supports）生成一个或多个围绕模型生长的“主干”，然后从主干上以一定角度延伸出细长的“树枝”，这些树枝的末梢精准地接触并支撑需要支撑的悬垂点。
起源: 这一功能最初诞生于 Ultimaker 的一次内部“黑客松”活动，其初衷正是为了最大限度地减少耗材浪费。   
  - 核心优势: 与传统支撑相比，树状支撑的优势是全方位的：它能显著减少材料使用和打印时间；由于其结构特点，移除过程更为轻松；最重要的是，它与模型表面的接触点极少，从而极大地改善了支撑区域的表面质量，减少了后期处理工作。   
  - 广泛采纳: 树状支撑最初是 Cura 的独有功能，但其理念的巨大成功使其迅速被其他软件借鉴。PrusaSlicer 以“有机支撑”（Organic Supports）的名义重新实现了这一功能，现在它也已成为 Bambu Studio 和 OrcaSlicer 的核心特性之一。   
## 4. 填充模式的多样化发展
填充不仅为模型的顶层提供支撑，更决定了其内部的机械性能。填充技术的发展体现了对强度、重量和打印效率的持续追求。
- **早期的填充**: 最初的填充模式非常基础，主要是二维的网格（Grid）和直线（Rectilinear），其主要作用是提供一个基础的内部框架，防止顶层封盖时塌陷。 
- **为强度与速度而优化**: 很快，开发者们引入了更多样化的填充模式以满足不同需求。例如，蜂窝（Honeycomb）和三角形（Triangular）模式提供了更优的强度重量比和抗剪切能力。   
- **陀螺晶格填充（Gyroid）的革命**: 陀螺晶格填充模式的引入是填充技术的一大步。它是一种三维、连续且无自相交的复杂曲面结构。其最大的优势在于能够提供近乎**各向同性（Isotropic）**的机械性能，这意味着打印件在 X、Y 和 Z 三个轴向上的强度几乎相等。这对于克服 FDM 打印技术沿 Z 轴（层间结合方向）天生脆弱的各向异性（Anisotropic）弱点具有重要意义。
  - Gyroid 函数的公式：$\sin x\cos y+\sin y\cos z+\sin z\cos x=0$ 
  ![Gyroid.png](https://s2.loli.net/2025/09/29/XfTGvOLrhbAIVH4.png)
  ![gyroid.jpg](https://s2.loli.net/2025/09/29/98UPZAjkYaBgqSR.jpg)
- **专业化与智能化填充**: 
  - 自适应立方体填充 (Adaptive Cubic, Cura) / 支撑性立方体填充 (Supportive Cubic, PrusaSlicer): 这类填充会根据模型几何形状动态改变密度，在靠近顶部表面的区域变得更密集以提供更好的支撑，而在模型内部则保持稀疏，从而在保证质量的同时节省时间和材料。   
  - 闪电填充 (Lightning Infill, Cura): 这是一种极为高效的填充策略，它只在绝对必要的地方生成内部支撑结构（形态类似闪电），以支撑模型的顶层封盖。这使得模型大部分区域可以保持中空，从而以极快的速度完成打印，特别适用于对内部强度要求不高的展示性模型。   
## 5. 多材料打印的挑战
在单个喷嘴上实现多颜色或多材料打印，对硬件和软件都提出了独特的挑战。切片软件通过巧妙的策略，使得这一复杂过程成为可能。
- **硬件的挑战**: 使用单一喷嘴的多材料系统（如 Prusa 的 MMU 或 Bambu Lab 的 AMS）进行换色时，需要先将旧料回抽，再送入新料。这个过程中，喷嘴内部不可避免地会残留旧颜色的熔融材料，如果直接打印，会导致颜色混合或污染。   
- **切片软件的解决方案**: 为了解决“颜色污染”问题，切片软件必须生成额外的 G 代码指令来管理这一物理过程：
  - 擦料塔/清料塔 (Purge/Wipe Tower): 这是最常见的解决方案。切片软件会在打印平台的一角生成一个独立的、牺牲性的塔状结构。每次换色后，喷嘴会先移动到这个塔上，挤出一定量的材料，直到将旧颜色完全清除，然后再返回模型继续打印。这种方法效果可靠，但会造成大量的材料浪费。   
  - 擦料/防渗漏护盾 (Wipe/Ooze Shield): 在模型周围打印一圈薄壁，其功能与擦料塔类似，用于换色时的材料清理。
  - “向填充物中擦料” (Purge to Infill): 这是一种更智能、更环保的解决方案。切片软件会利用模型内部不可见的填充区域作为“垃圾桶”，将换色时产生的废料挤出到填充物中。这种方法可以极大地减少甚至消除对独立擦料塔的需求，从而显著节约材料。   
- **用户界面的革新**: 现代切片软件如 Bambu Studio 和 PrusaSlicer 提供了直观的“涂色”工具。用户可以直接在 3D 模型上像画画一样指定不同区域的颜色，软件会自动处理背后复杂的 G 代码生成，包括换料指令和清料策略。
